import time
import random
import itertools
from first import first


ReelSet_Normal_1 = [[8,2,1,10,4,1,2,7,5,0,7,4,1,8,7,5,4,6,10,3,4,5,1,9,8,3,2,8,3,7,5,4,6,8,1,3,6,5,8,10,4,5,1,6,8,4,6,3,1,9,10,5,8,7,6,8,2,7,8,5,10,3,4,5,2,6,10,7,2,8,6,4,5,7,9,8,6,7,2,5,6,1,5,6,3,7,6,5,4,3,7,8,4,6,2,7,4,8,2,6,0,4,7,5,8,6,7,8,3,2,7,8,1,5,3,10,6,2,8,6,7,3,8,7,9,4,5,7,3],
                    [6,8,10,1,7,10,6,3,7,2,5,7,8,5,6,8,4,6,7,5,4,3,2,10,8,5,10,2,7,8,4,1,8,3,7,6,3,4,8,1,4,7,3,8,7,2,8,4,2,7,5,8,4,3,7,4,2,5,8,7,2,6,7,8,1,7,8,6,4,5,0,4,5,6,1,5,6,0,8,2,6,8,10,4,8,6,3,4,8,5,1,8,6,3,7,2,5,10,3,5,7,3,2,8,7,5,3,6,0,7,6,2,3,6,5,7,4,8,7,6,1,4,6,5,1,6,5,7],
                    [5,3,8,7,4,5,3,6,5,8,6,2,3,5,7,3,8,6,1,4,7,5,3,8,2,5,7,8,6,7,4,2,7,3,2,1,6,8,5,0,1,10,6,8,1,5,4,7,3,1,4,10,3,6,2,8,7,5,10,3,6,8,7,5,6,2,10,6,8,4,0,5,6,7,8,4,10,8,4,6,5,8,7,4,8,7,6,1,7,4,5,6,10,0,2,8,5,2,7,5,4,1,8,6,2,7,8,2,3,4,7,3,8,6,3,4,7,6,8,7,1,8,7,4,5,6,2,7],
                    [6,3,0,1,5,6,3,5,7,3,10,7,2,6,7,1,8,10,3,5,7,4,2,8,7,2,6,8,0,1,7,2,5,7,4,2,1,6,4,7,1,6,10,7,2,5,8,7,3,8,4,0,10,3,8,5,4,8,7,3,6,5,8,10,4,3,1,5,4,8,7,10,6,4,7,8,6,3,2,6,8,5,7,4,2,8,6,5,8,6,7,5,8,4,5,8,6,7,1,3,4,8,3,2,8,1,3,8,4,6,7,5,6,7,2,8,6,5,2,6,4,8,6,7,5,8,7,5],
                    [6,8,3,2,8,3,2,7,4,8,6,2,3,1,4,3,8,7,4,5,9,8,4,2,3,10,4,3,5,8,6,1,10,6,5,8,6,4,10,5,7,4,6,2,7,5,6,1,8,2,3,8,0,5,4,7,1,5,7,2,6,5,9,7,8,6,7,4,0,8,5,10,7,8,6,7,5,3,8,4,10,7,8,6,9,8,5,7,3,6,10,7,4,3,0,7,5,4,6,7,8,1,6,7,8,6,7,1,6,7,8,2,5,1,7,8,5,6,9,8,7,5,1,4,6,8,3,2,5]]

ReelSet_Normal_2 = [[8,2,1,10,4,1,2,7,5,0,7,4,1,8,7,5,4,6,10,3,4,5,1,9,8,3,2,8,3,7,5,4,6,8,1,3,6,5,8,10,4,5,1,6,8,4,6,3,1,9,10,5,8,7,6,8,2,7,8,5,10,3,4,5,2,6,10,7,2,8,6,4,5,7,9,8,6,7,2,5,6,1,5,6,3,7,6,5,4,3,7,8,4,6,2,7,4,8,2,6,0,4,7,5,8,6,7,8,3,2,7,8,1,5,3,10,6,2,8,6,7,3,8,7,9,4,5,7,3],
                    [6,8,10,1,7,10,6,3,7,2,5,7,8,5,6,8,4,6,7,5,4,3,2,10,8,5,10,2,7,8,4,1,8,3,7,6,3,4,8,1,4,7,3,8,7,2,8,4,2,7,5,8,4,3,7,4,2,5,8,7,2,6,7,8,1,7,8,6,4,5,0,4,5,6,1,5,6,0,8,2,6,8,10,4,8,6,3,4,8,5,1,8,6,3,7,2,5,10,3,5,7,3,2,8,7,5,3,6,0,7,6,2,3,6,5,7,4,8,7,6,1,4,6,5,1,6,5,7],
                    [5,3,8,7,4,5,3,6,5,8,6,2,3,5,7,3,8,6,1,4,7,5,3,8,2,5,7,8,6,7,4,2,7,3,2,1,6,8,5,0,1,10,6,8,1,5,4,7,3,1,4,10,3,6,2,8,7,5,10,3,6,8,7,5,6,2,10,6,8,4,0,5,6,7,8,4,10,8,4,6,5,8,7,4,8,7,6,1,7,4,5,6,10,0,2,8,5,2,7,5,4,1,8,6,2,7,8,2,3,4,7,3,8,6,3,4,7,6,8,7,1,8,7,4,5,6,2,7],
                    [6,3,0,1,5,6,3,5,7,3,10,7,2,6,7,1,8,10,3,5,7,4,2,8,7,2,6,8,0,1,7,2,5,7,4,2,1,6,4,7,1,6,10,7,2,5,8,7,3,8,4,0,10,3,8,5,4,8,7,3,6,5,8,10,4,3,1,5,4,8,7,10,6,4,7,8,6,3,2,6,8,5,7,4,2,8,6,5,8,6,7,5,8,4,5,8,6,7,1,3,4,8,3,2,8,1,3,8,4,6,7,5,6,7,2,8,6,5,2,6,4,8,6,7,5,8,7,5],
                    [6,8,3,2,8,3,2,7,4,8,6,2,3,1,4,3,8,7,4,5,9,8,4,2,3,10,4,3,5,8,6,1,10,6,5,8,6,4,10,5,7,4,6,2,7,5,6,1,8,2,3,8,0,5,4,7,1,5,7,2,6,5,9,7,8,6,7,4,0,8,5,10,7,8,6,7,5,3,8,4,10,7,8,6,9,8,5,7,3,6,10,7,4,3,0,7,5,4,6,7,8,1,6,7,8,6,7,1,6,7,8,2,5,1,7,8,5,6,9,8,7,5,1,4,6,8,3,2,5]]

ReelSet_Normal_3 = [[8,2,4,2,7,7,4,8,7,4,6,4,8,2,8,7,4,6,8,6,8,4,6,8,4,6,8,7,6,8,2,7,8,4,2,6,7,2,8,6,4,7,8,6,7,2,6,6,7,6,4,7,8,4,6,2,7,4,8,2,6,4,7,8,6,7,8,2,7,8,6,2,8,6,7,8,7,4,7],
                    [6,8,1,6,3,5,8,5,6,8,6,5,3,8,5,8,1,8,3,6,3,8,1,3,8,8,5,8,3,5,8,6,8,1,8,6,5,5,6,1,5,6,8,6,8,8,6,3,8,5,1,8,6,3,5,3,5,3,8,5,3,6,6,3,6,5,8,6,1,6,5,1,6,5],
                    [5,3,7,4,5,3,5,2,3,5,7,3,1,4,7,5,3,2,5,7,7,4,2,7,3,2,1,5,1,1,5,4,7,3,1,4,3,2,7,5,3,7,5,2,4,5,7,4,4,5,7,4,7,1,7,4,5,2,5,2,7,5,4,1,2,7,2,3,4,7,3,3,4,7,7,1,7,4,5,2,7],
                    [6,3,1,5,6,3,5,7,3,7,2,6,7,1,8,3,5,7,4,2,8,7,2,6,8,1,7,2,5,7,4,2,1,6,4,7,1,6,7,2,5,8,7,3,8,4,3,8,5,4,8,7,3,6,5,8,4,3,1,5,4,8,7,6,4,7,8,6,3,2,6,8,5,7,4,2,8,6,5,8,6,7,5,8,4,5,8,6,7,1,3,4,8,3,2,8,1,3,8,4,6,7,5,6,7,2,8,6,5,2,6,4,8,6,7,5,8,7,5],
                    [6,8,3,2,8,3,2,7,4,8,6,2,3,1,4,3,8,7,4,5,8,4,2,3,4,3,5,8,6,1,6,5,8,6,4,5,7,4,6,2,7,5,6,1,8,2,3,8,5,4,7,1,5,7,2,6,5,7,8,6,7,4,8,5,7,8,6,7,5,3,8,4,7,8,6,8,5,7,3,6,7,4,3,7,5,4,6,7,8,1,6,7,8,6,7,1,6,7,8,2,5,1,7,8,5,6,8,7,5,1,4,6,8,3,2,5]]

ReelSet_Normal_4 = [[8,1,1,7,5,7,1,8,7,5,3,5,1,8,3,8,3,7,5,8,1,3,5,8,5,1,8,3,1,5,8,7,8,7,8,5,3,5,7,8,5,7,8,7,5,1,5,3,7,5,3,7,8,7,8,7,5,8,7,8,3,7,8,1,5,3,8,7,3,8,7,5,7,3],
                    [6,7,6,7,2,5,7,5,6,4,6,7,5,4,2,5,2,7,4,7,6,4,4,7,7,2,4,2,7,5,4,7,4,2,5,7,2,6,7,7,6,4,5,4,5,6,5,6,2,6,4,6,4,5,6,7,2,5,5,7,2,7,5,6,7,6,2,6,5,7,4,7,6,4,6,5,6,5,7],
                    [3,8,4,3,6,8,6,2,3,3,8,6,1,4,3,8,2,8,6,4,2,3,2,1,6,8,1,6,8,1,4,3,1,4,3,6,2,8,3,6,8,6,2,6,8,4,6,8,4,8,4,6,8,4,8,6,1,4,6,2,8,2,4,1,8,6,2,8,2,3,4,3,8,6,3,4,6,8,1,8,4,6,2],
                    [6,3,1,5,6,3,5,7,3,7,2,6,7,1,8,3,5,7,4,2,8,7,2,6,8,1,7,2,5,7,4,2,1,6,4,7,1,6,7,2,5,8,7,3,8,4,3,8,5,4,8,7,3,6,5,8,4,3,1,5,4,8,7,6,4,7,8,6,3,2,6,8,5,7,4,2,8,6,5,8,6,7,5,8,4,5,8,6,7,1,3,4,8,3,2,8,1,3,8,4,6,7,5,6,7,2,8,6,5,2,6,4,8,6,7,5,8,7,5],
                    [6,8,3,2,8,3,2,7,4,8,6,2,3,1,4,3,8,7,4,5,8,4,2,3,4,3,5,8,6,1,6,5,8,6,4,5,7,4,6,2,7,5,6,1,8,2,3,8,5,4,7,1,5,7,2,6,5,7,8,6,7,4,8,5,7,8,6,7,5,3,8,4,7,8,6,8,5,7,3,6,7,4,3,7,5,4,6,7,8,1,6,7,8,6,7,1,6,7,8,2,5,1,7,8,5,6,8,7,5,1,4,6,8,3,2,5]]



ReelSet_FreeGames_1 = [[8,2,1,10,4,1,2,7,5,0,7,4,1,8,7,5,4,6,10,3,4,5,1,9,8,3,2,8,3,7,5,4,6,8,1,3,6,5,8,10,4,5,1,6,8,4,6,3,1,9,10,5,8,7,6,8,2,7,8,5,10,3,4,5,2,6,10,7,2,8,6,4,5,7,9,8,6,7,2,5,6,1,5,6,3,7,6,5,4,3,7,8,4,6,2,7,4,8,2,6,0,4,7,5,8,6,7,8,3,2,7,8,1,5,3,10,6,2,8,6,7,3,8,7,9,4,5,7,3],
                       [6,8,10,1,7,10,6,3,7,2,5,7,8,5,6,8,4,6,7,5,4,3,2,10,8,5,10,2,7,8,4,1,8,3,7,6,3,4,8,1,4,7,3,8,7,2,8,4,2,7,5,8,4,3,7,4,2,5,8,7,2,6,7,8,1,7,8,6,4,5,0,4,5,6,1,5,6,0,8,2,6,8,10,4,8,6,3,4,8,5,1,8,6,3,7,2,5,10,3,5,7,3,2,8,7,5,3,6,0,7,6,2,3,6,5,7,4,8,7,6,1,4,6,5,1,6,5,7],
                       [5,3,8,7,4,5,3,6,5,8,6,2,3,5,7,3,8,6,1,4,7,5,3,8,2,5,7,8,6,7,4,2,7,3,2,1,6,8,5,0,1,10,6,8,1,5,4,7,3,1,4,10,3,6,2,8,7,5,10,3,6,8,7,5,6,2,10,6,8,4,0,5,6,7,8,4,10,8,4,6,5,8,7,4,8,7,6,1,7,4,5,6,10,0,2,8,5,2,7,5,4,1,8,6,2,7,8,2,3,4,7,3,8,6,3,4,7,6,8,7,1,8,7,4,5,6,2,7],
                       [6,3,0,1,5,6,3,5,7,3,10,7,2,6,7,1,8,10,3,5,7,4,2,8,7,2,6,8,0,1,7,2,5,7,4,2,1,6,4,7,1,6,10,7,2,5,8,7,3,8,4,0,10,3,8,5,4,8,7,3,6,5,8,10,4,3,1,5,4,8,7,10,6,4,7,8,6,3,2,6,8,5,7,4,2,8,6,5,8,6,7,5,8,4,5,8,6,7,1,3,4,8,3,2,8,1,3,8,4,6,7,5,6,7,2,8,6,5,2,6,4,8,6,7,5,8,7,5],
                       [6,8,3,2,8,3,2,7,4,8,6,2,3,1,4,3,8,7,4,5,9,8,4,2,3,10,4,3,5,8,6,1,10,6,5,8,6,4,10,5,7,4,6,2,7,5,6,1,8,2,3,8,0,5,4,7,1,5,7,2,6,5,9,7,8,6,7,4,0,8,5,10,7,8,6,7,5,3,8,4,10,7,8,6,9,8,5,7,3,6,10,7,4,3,0,7,5,4,6,7,8,1,6,7,8,6,7,1,6,7,8,2,5,1,7,8,5,6,9,8,7,5,1,4,6,8,3,2,5]]


ReelSet_FreeGames_2 = [[8,2,1,10,4,1,2,7,5,0,7,4,1,8,7,5,4,6,10,3,4,5,1,9,8,3,2,8,3,7,5,4,6,8,1,3,6,5,8,10,4,5,1,6,8,4,6,3,1,9,10,5,8,7,6,8,2,7,8,5,10,3,4,5,2,6,10,7,2,8,6,4,5,7,9,8,6,7,2,5,6,1,5,6,3,7,6,5,4,3,7,8,4,6,2,7,4,8,2,6,0,4,7,5,8,6,7,8,3,2,7,8,1,5,3,10,6,2,8,6,7,3,8,7,9,4,5,7,3],
                       [6,8,10,1,7,10,6,3,7,2,5,7,8,5,6,8,4,6,7,5,4,3,2,10,8,5,10,2,7,8,4,1,8,3,7,6,3,4,8,1,4,7,3,8,7,2,8,4,2,7,5,8,4,3,7,4,2,5,8,7,2,6,7,8,1,7,8,6,4,5,0,4,5,6,1,5,6,0,8,2,6,8,10,4,8,6,3,4,8,5,1,8,6,3,7,2,5,10,3,5,7,3,2,8,7,5,3,6,0,7,6,2,3,6,5,7,4,8,7,6,1,4,6,5,1,6,5,7],
                       [5,3,8,7,4,5,3,6,5,8,6,2,3,5,7,3,8,6,1,4,7,5,3,8,2,5,7,8,6,7,4,2,7,3,2,1,6,8,5,0,1,10,6,8,1,5,4,7,3,1,4,10,3,6,2,8,7,5,10,3,6,8,7,5,6,2,10,6,8,4,0,5,6,7,8,4,10,8,4,6,5,8,7,4,8,7,6,1,7,4,5,6,10,0,2,8,5,2,7,5,4,1,8,6,2,7,8,2,3,4,7,3,8,6,3,4,7,6,8,7,1,8,7,4,5,6,2,7],
                       [6,3,0,1,5,6,3,5,7,3,10,7,2,6,7,1,8,10,3,5,7,4,2,8,7,2,6,8,0,1,7,2,5,7,4,2,1,6,4,7,1,6,10,7,2,5,8,7,3,8,4,0,10,3,8,5,4,8,7,3,6,5,8,10,4,3,1,5,4,8,7,10,6,4,7,8,6,3,2,6,8,5,7,4,2,8,6,5,8,6,7,5,8,4,5,8,6,7,1,3,4,8,3,2,8,1,3,8,4,6,7,5,6,7,2,8,6,5,2,6,4,8,6,7,5,8,7,5],
                       [6,8,3,2,8,3,2,7,4,8,6,2,3,1,4,3,8,7,4,5,9,8,4,2,3,10,4,3,5,8,6,1,10,6,5,8,6,4,10,5,7,4,6,2,7,5,6,1,8,2,3,8,0,5,4,7,1,5,7,2,6,5,9,7,8,6,7,4,0,8,5,10,7,8,6,7,5,3,8,4,10,7,8,6,9,8,5,7,3,6,10,7,4,3,0,7,5,4,6,7,8,1,6,7,8,6,7,1,6,7,8,2,5,1,7,8,5,6,9,8,7,5,1,4,6,8,3,2,5]]




ALL_REEL_SETS = [ReelSet_Normal_1, ReelSet_Normal_2, ReelSet_Normal_3,ReelSet_Normal_4]
ALL_FG_REEL_SETS = [ReelSet_FreeGames_1, ReelSet_FreeGames_2]

print "reels order:"
print '1  2  3  4  5'
print 's  n  r  t  t'
print 't  d  d  h  h'
print '-----------------'
print 'Entrer symbols for the each reel from the top, separated by spaces'

"""
first_reel = raw_input("Enter symbols for the 1st reel: ")
second_reel = raw_input("Enter symbols for the 2nd reel: ")
third_reel = raw_input("Enter symbols for the 3rd reel: ")
fourth_reel = raw_input("Enter symbols for the 4th reel: ")
fifth_reel = raw_input("Enter symbols for the 5th reel: ")
reel_type = raw_input("Look in the Free games? y/n: ")
"""
first_reel = '8 1 1'
second_reel = '6 7 6'
third_reel = '3 8 4'
fourth_reel = '6 3 1'
fifth_reel = '6 8 3'
reel_type = 'n'

def get_comb_index(comb, reel):
    """
    :param comb: visible to a player part of the reel(basically element of reelcase)
    :param reel: part of REEL_SET where you want to look for comination
    :return: index of the 1st element of the combination
    """
    full_reel = list(itertools.chain(reel, reel[0:2]))
    for i in range(len(reel)):
        if full_reel[i] == comb[0] and full_reel[i+1] == comb[1] and full_reel[i+2] == comb[2]:
            return i
        else:
            return 'xxx'


def get_reel(userinput):
    """
    :param userinput: string with symbols for the reel divided by spacebar ex: '1 2 3'
    :return:  list [1,2,3]
    """
    spliting = userinput.split(' ')
    reel = []
    for item in spliting:
        reel.append(int(item))
    return reel

if reel_type == 'y':
    all_reelsets = ALL_FG_REEL_SETS
else:
    all_reelsets = ALL_REEL_SETS




for reelset_index, reelset in enumerate(all_reelsets):
    comb = [reelset_index,
            get_comb_index(get_reel(first_reel), reelset[0]),
            get_comb_index(get_reel(second_reel),reelset[1]),
            get_comb_index(get_reel(third_reel), reelset[2]),
            get_comb_index(get_reel(fourth_reel),reelset[3]),
            get_comb_index(get_reel(fifth_reel),reelset[4])]

    if 'xxx' not in comb:
        print comb
    else:
        print 'such combination is not possible with given reelsets'
